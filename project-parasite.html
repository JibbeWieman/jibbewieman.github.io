<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portfolio website of Jibbe Wieman">
    <title>Jibbe Wieman | Project Parasite</title>
    <link rel="icon" type="image/svg+xml" href="assets/images/icons/personal-icon-light.svg">
    <link rel="canonical" href="https://jibbewieman.github.io/project-parasite.html" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/navigation.css">
    <link rel="stylesheet" href="css/project-page.css">
    <link rel="stylesheet" href="css/style.css">
    <script type="module" src="/js/scripts/injectHTML.js"></script>
    <script src="/js/scripts/expandable-section.js" defer></script>
    <script src="/js/scripts/mode-toggle.js" defer></script>
    <script src="/js/scripts/csharp-wrapper.js" defer></script>
</head>
<body>

    <div id="nav-placeholder"></div>

    <div class="arrow-button arrow-left" onclick="window.location.href='noorderpoort.html';">
        <img src="assets/images/icons/arrow-left.png" alt="Left Arrow">
    </div>
    <div class="arrow-button arrow-right" onclick="window.location.href='phobophobia.html';">
        <img src="assets/images/icons/arrow-right.png" alt="Right Arrow">
    </div>

    <!-- Image Overlay -->
    <div id="image-overlay">
        <div class="overlay-content">
            <span class="close-button" onclick="closeOverlay()">&times;</span>
            <img id="overlay-image" src="" alt="Enlarged Image">
        </div>
    </div>

    <header class="project-parasite-header">
        <img src="assets/images/project-parasite/logo.png" alt="Project Parasite Logo" />
    </header>

    <div class="main-wrapper">
        <main>
            <aside class="project-sidebar">
                <dl class="project-details">
                    <dt>PROJECT STATUS:</dt>
                    <dd>ONGOING</dd>
                    <dt>PROJECT TYPE:</dt>
                    <dd>PERSONAL</dd>
                    <dt>PROJECT DURATION:</dt>
                    <dd>8 AUGUST 2024 - 31 JANUARY 2025</dd>
                    <dt>SOFTWARE USED:</dt>
                    <dd>UNITY</dd>
                    <dt>LANGUAGES USED:</dt>
                    <dd>C#</dd>
                    <dt>PRIMARY ROLE(S):</dt>
                    <dd>ALL</dd>
                    <dt>TEAM SIZE:</dt>
                    <dd>1</dd>
                </dl>
            </aside>

            <div class="content-wrapper">
                <iframe width="560" 
                        height="315" 
                        src="https://www.youtube-nocookie.com/embed/_YRjZhuRAcs?si=bNgFcqPu92RFM2wU" 
                        title="YouTube video player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" 
                        allowfullscreen>
                </iframe>

                <br/>

                <div class="social-buttons">
                    <a href="https://github.com/JibbeWieman/ProjectParasite" target="_blank" aria-label="GitHub">
                        <img src="assets/images/icons/github.png" alt="GitHub Icon" title="GitHub">
                    </a>
                    <a href="https://greenygamedev.itch.io" target="_blank" aria-label="Itch.io">
                        <img src="assets/images/icons/itchio.png" alt="Itch.io Icon" title="Itch.io">
                    </a>
                </div>

                <br/>

                <div class="text-wrapper">
                    <p>In a top-secret government facility, unethical experiments on living creatures take a dark turn when a sudden power outage disrupts containment. Among the test subjects, a genetically modified <strong>hookworm parasite</strong> (the player) seizes the moment and escapes before lockdown is restored. Now, it must fight for survival.</p>
                    <p>Using its unique ability to <strong>possess living hosts</strong>, the parasite infiltrates the facility, commandeering staff and experimental creatures to navigate high-security areas, disable defences, and outwit enemies. Each encounter demands a mix of <strong>stealth, combat, and puzzle-solving</strong>, challenging players to think strategically and adapt on the fly.</p>
                </div>
                <button onclick="window.open('assets/images/project-parasite/Project-Parasite_GDD.pdf', '_blank');">
                    View GDD
                </button>

                <div class="contributions">
                    <h2>My Contributions</h2>

                    <div class="expandable-container">
                        <button class="expandable-button" onclick="toggleContent(this)">
                            Actor (Switching) System
                            <img class="expand-icon" src="assets/images/icons/arrow-down.png" alt="Expand">
                        </button>
                        <div class="expandable-content">
                            <p>The main mechanic of Project Parasite is the parasite's ability to infect and posses other creatures.</p>
                            <br/>
                            <p>To achieve this I setup an actor system which has an Actor script on each playable object, which all have their own id and afiliation.</p>
                            <br/>
                            <p>To manage these I setup an ActorManager, which I can use to access these actors.</p>
                            <p>Besides this I made an ActorFacade script which takes in all the important variables and triggers the logic for the parasite swapping an actor.</p>

                            <button class="expandable-button" onclick="toggleContent(this)">
                                Script Snippet
                                <img class="expand-icon" src="assets/images/icons/arrow-down.png" alt="Expand">
                            </button>
                            <div class="expandable-content">
                                <div class="code-container">
                                    <pre><code class="language-csharp">
<span class="keyword">using</span> Unity.VisualScripting;
<span class="keyword">using</span> UnityEngine;
<span class="keyword">using</span> UnityEngine.AI;

<span class="keyword">public</span> <span class="keyword">class</span> <span class="class-name">ActorFacade</span> : <span class="class-name">MonoBehaviour</span>
{
    <span class="preprocessor">#region</span> VARIABLES
    <span class="keyword">private</span> <span class="class-name">ActorsManager</span> <span class="variable">actorManager</span>;
    <span class="keyword">private</span> <span class="class-name">ActorCharacterController</span> <span class="variable">actorController</span>;
    <span class="keyword">private</span> <span class="class-name">ActorWeaponsManager</span> <span class="variable">actorWeaponsManager</span>;

    <span class="keyword">private</span> <span class="class-name">Actor</span> <span class="variable">currentActor</span>;

    [<span class="attribute">Tooltip</span>(<span class="string">"The parasite."</span>)]
    <span class="keyword">private</span> <span class="class-name">GameObject</span> <span class="variable">player</span>;

    <span class="keyword">private</span> <span class="class-name">HostThirdPersonCam</span> <span class="variable">hostCam</span>;
    <span class="keyword">private</span> <span class="class-name">InfectAbility</span> <span class="variable">infectAbility</span>;
    <span class="preprocessor">#endregion</span>

    <span class="preprocessor">#region</span> UNITY METHODS

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">Start</span>()
    {
        <span class="variable">actorManager</span> = <span class="function">GetComponent</span>&lt;<span class="class-name">ActorsManager</span>&gt;();
        <span class="variable">player</span> = <span class="variable">actorManager</span>?.<span class="property">Player</span>;

        <span class="class-name">EventManager</span>.<span class="function">AddListener</span>&lt;<span class="class-name">ActorPossesedEvent</span>&gt;(<span class="function">SwitchActor</span>);
        <span class="class-name">EventManager</span>.<span class="function">AddListener</span>&lt;<span class="class-name">AimEvent</span>&gt;(<span class="function">HandleCameraSwitching</span>);
        <span class="class-name">Events</span>.<span class="class-name">ActorPossesedEvent</span>.<span class="property">CurrentActor</span> = <span class="number">0</span>; <span class="comment">// Player actor ID is 0</span>

        <span class="variable">hostCam</span> = <span class="function">FindOrLogError</span>&lt;<span class="class-name">HostThirdPersonCam</span>&gt;();
        <span class="variable">infectAbility</span> = <span class="function">FindOrLogError</span>&lt;<span class="class-name">InfectAbility</span>&gt;();
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">Update</span>()
    {
        <span class="keyword">if</span> (<span class="class-name">Input</span>.<span class="function">GetKeyDown</span>(<span class="class-name">KeyCode</span>.<span class="property">F</span>) <span class="operator">&amp;&amp;</span> <span class="class-name">Events</span>.<span class="class-name">ActorPossesedEvent</span>.<span class="property">InHost</span>)
            <span class="function">LeaveHost</span>();
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">FixedUpdate</span>()
    {
        <span class="variable">actorController</span>?.<span class="function">AdjustAnimationSpeed</span>();
        <span class="variable">actorController</span>?.<span class="function">HandleCharacterMovement</span>();
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">OnDestroy</span>()
    {
        <span class="class-name">EventManager</span>.<span class="function">RemoveListener</span>&lt;<span class="class-name">ActorPossesedEvent</span>&gt;(<span class="function">SwitchActor</span>);
        <span class="class-name">EventManager</span>.<span class="function">RemoveListener</span>&lt;<span class="class-name">AimEvent</span>&gt;(<span class="function">HandleCameraSwitching</span>);
    }
    <span class="preprocessor">#endregion</span>

    <span class="preprocessor">#region</span> ACTOR MANAGEMENT

    <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">SwitchActor</span>(<span class="class-name">ActorPossesedEvent</span> <span class="variable">evt</span>)
    {
        <span class="keyword">var</span> <span class="variable">targetActor</span> = <span class="class-name">ActorsManager</span>.<span class="function">FindActorById</span>(<span class="variable">evt</span>.<span class="property">CurrentActor</span>);
        <span class="keyword">if</span> (<span class="variable">targetActor</span> == <span class="keyword">null</span>)
        {
            <span class="class-name">Debug</span>.<span class="function">LogError</span>(<span class="string">$"Actor with ID {evt.CurrentActor} not found!"</span>);
            <span class="keyword">return</span>;
        }

        <span class="function">EnterActor</span>(<span class="variable">targetActor</span>);
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">EnterActor</span>(<span class="class-name">Actor</span> <span class="variable">targetActor</span>)
    {
        <span class="function">SetHostLogic</span>(<span class="variable">targetActor</span>);
        <span class="variable">currentActor</span> = <span class="variable">targetActor</span>;
        <span class="variable">actorController</span> = <span class="function">FindActorController</span>(<span class="variable">currentActor</span>.<span class="property">gameObject</span>);

        <span class="keyword">if</span> (<span class="variable">actorController</span> == <span class="keyword">null</span>)
        {
            <span class="class-name">Debug</span>.<span class="function">LogError</span>(<span class="string">$"ActorCharacterController not found for {currentActor.gameObject.name}!"</span>);
            <span class="keyword">return</span>;
        }

        <span class="keyword">if</span> (!<span class="variable">currentActor</span>.<span class="function">IsPlayer</span>())
        {
            <span class="variable">currentActor</span>.<span class="property">Affiliation</span> = <span class="number">0</span>;
        }

        <span class="keyword">if</span> (!<span class="variable">currentActor</span>.<span class="function">GetComponent</span>&lt;<span class="class-name">AudioListener</span>&gt;())
        {
            <span class="variable">currentActor</span>.<span class="function">AddComponent</span>&lt;<span class="class-name">AudioListener</span>&gt;();
        }

        <span class="function">ReviveActor</span>(<span class="variable">currentActor</span>);
        <span class="function">DisableAIComponents</span>(<span class="variable">currentActor</span>);
        <span class="function">EnableWeaponsManager</span>(<span class="variable">currentActor</span>);

        <span class="variable">actorController</span>.<span class="property">transform</span>.<span class="function">SetPositionAndRotation</span>(<span class="variable">currentActor</span>.<span class="property">transform</span>.<span class="property">position</span>, <span class="variable">currentActor</span>.<span class="property">transform</span>.<span class="property">rotation</span>);

        <span class="variable">hostCam</span>?.<span class="function">SetupHostVariables</span>(<span class="variable">currentActor</span>);
        <span class="class-name">CameraSwitcher</span>.<span class="function">RegisterCameras</span>(<span class="variable">currentActor</span>);

        <span class="class-name">CameraSwitcher</span>.<span class="function">SwitchCamera</span>(<span class="variable">currentActor</span>.<span class="property">BasicCam</span>);
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">LeaveHost</span>()
    {
        <span class="variable">currentActor</span>.<span class="function">GetComponent</span>&lt;<span class="class-name">Health</span>&gt;().<span class="function">TakeDamage</span>(<span class="number">250</span>, <span class="variable">player</span>);
        <span class="variable">currentActor</span>.<span class="function">GetComponentInChildren</span>&lt;<span class="class-name">Animator</span>&gt;().<span class="function">SetBool</span>(<span class="string">"isWalking"</span>, <span class="keyword">false</span>);

        <span class="variable">player</span>.<span class="property">transform</span>.<span class="function">SetPositionAndRotation</span>(<span class="variable">currentActor</span>.<span class="property">transform</span>.<span class="property">position</span> <span class="operator">+</span> <span class="class-name">Vector3</span>.<span class="property">left</span>, <span class="variable">currentActor</span>.<span class="property">transform</span>.<span class="property">rotation</span>);
        <span class="variable">player</span>.<span class="function">SetActive</span>(<span class="keyword">true</span>);

        <span class="keyword">if</span> (!<span class="variable">currentActor</span>.<span class="function">IsPlayer</span>())
        {
            <span class="variable">currentActor</span>.<span class="property">Affiliation</span> = <span class="number">1</span>;
        }

        <span class="keyword">if</span> (<span class="variable">currentActor</span>.<span class="function">TryGetComponent</span>&lt;<span class="class-name">AudioListener</span>&gt;(<span class="keyword">out</span> <span class="keyword">var</span> <span class="variable">audioListener</span>))
        {
            <span class="function">Destroy</span>(<span class="variable">audioListener</span>);
        }

        <span class="function">DisableWeaponsManager</span>();
        <span class="function">MoveHostToRefuge</span>();

        <span class="class-name">CameraSwitcher</span>.<span class="function">UnregisterCameras</span>(<span class="variable">currentActor</span>);
        <span class="class-name">Events</span>.<span class="class-name">ActorPossesedEvent</span>.<span class="property">CurrentActor</span> = <span class="number">0</span>;
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">HandleCameraSwitching</span>(<span class="class-name">AimEvent</span> <span class="variable">evt</span>)
    {
        <span class="keyword">if</span> (<span class="variable">evt</span>.<span class="property">IsAiming</span>)
        {
            <span class="class-name">CameraSwitcher</span>.<span class="function">SwitchCamera</span>(<span class="variable">currentActor</span>.<span class="property">CombatCam</span>);
        }
        <span class="keyword">else</span>
        {
            <span class="class-name">CameraSwitcher</span>.<span class="function">SwitchCamera</span>(<span class="variable">currentActor</span>.<span class="property">BasicCam</span>);
        }
    }
    <span class="preprocessor">#endregion</span>

    <span class="preprocessor">#region</span> HELPER METHODS
    <span class="keyword">private</span> <span class="type">T</span> <span class="function">FindOrLogError</span><<span class="type">T</span>>() <span class="keyword">where</span> <span class="type">T</span> : <span class="class-name">MonoBehaviour</span>
    {
        <span class="keyword">var</span> <span class="variable">component</span> = <span class="method">FindObjectOfType</span><<span class="type">T</span>>();
        <span class="class-name">DebugUtility</span>.<span class="method">HandleErrorIfNullFindObject</span><<span class="type">T</span>, <span class="class-name">ActorFacade</span>>(<span class="variable">component</span>, <span class="keyword">this</span>);
        <span class="keyword">return</span> <span class="variable">component</span>;
    }

    <span class="keyword">private</span> <span class="class-name">ActorCharacterController</span> <span class="function">FindActorController</span>(<span class="class-name">GameObject</span> <span class="parameter">actor</span>)
    {
        <span class="keyword">return</span> <span class="parameter">actor</span>.<span class="method">GetComponent</span><<span class="class-name">ActorCharacterController</span>>() ?? <span class="parameter">actor</span>.<span class="method">GetComponentInParent</span><<span class="class-name">ActorCharacterController</span>>();
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">SetHostLogic</span>(<span class="class-name">Actor</span> <span class="parameter">targetActor</span>)
    {
        <span class="keyword">if</span> (<span class="parameter">targetActor</span>.<span class="method">IsPlayer</span>())
        {
            <span class="namespace">Events</span>.<span class="property">ActorPossesedEvent</span>.<span class="property">InHost</span> = <span class="constant">false</span>;
            <span class="keyword">return</span>;
        }

        <span class="variable">player</span>.<span class="method">SetActive</span>(<span class="constant">false</span>);
        <span class="variable">infectAbility</span>.<span class="variable">isLeeching</span> = <span class="constant">false</span>;
        <span class="namespace">Events</span>.<span class="property">ActorPossesedEvent</span>.<span class="property">InHost</span> = <span class="constant">true</span>;
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">ReviveActor</span>(<span class="class-name">Actor</span> <span class="parameter">actor</span>)
    {
        <span class="keyword">var</span> <span class="variable">health</span> = <span class="parameter">actor</span>.<span class="method">GetComponent</span><<span class="class-name">Health</span>>();
        <span class="keyword">if</span> (<span class="variable">health</span>?.<span class="property">CurrentHealth</span> <= <span class="number">0</span>)
        {
            <span class="variable">health</span>.<span class="method">Heal</span>(<span class="number">1</span>);
        }
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">DisableAIComponents</span>(<span class="class-name">Actor</span> <span class="parameter">actor</span>)
    {
        <span class="parameter">actor</span>.<span class="method">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">PatrolAgent</span> <span class="variable">_patrolAgent</span>);
        <span class="parameter">actor</span>.<span class="method">TryGetComponent</span>(<span class="keyword">out</span> <span class="class-name">NavMeshAgent</span> <span class="variable">_navMeshAgent</span>);

        <span class="keyword">if</span> (<span class="variable">_patrolAgent</span> != <span class="constant">null</span>)
            <span class="variable">_patrolAgent</span>.<span class="property">enabled</span> = <span class="constant">false</span>;
        <span class="keyword">if</span> (<span class="variable">_navMeshAgent</span> != <span class="constant">null</span>)
            <span class="variable">_navMeshAgent</span>.<span class="property">enabled</span> = <span class="constant">false</span>;
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">EnableWeaponsManager</span>(<span class="class-name">Actor</span> <span class="parameter">actor</span>)
    {
        <span class="keyword">if</span> (<span class="parameter">actor</span>.<span class="method">TryGetComponent</span>(<span class="keyword">out</span> <span class="variable">actorWeaponsManager</span>))
        {
            <span class="variable">actorWeaponsManager</span>.<span class="property">enabled</span> = <span class="constant">true</span>;
        }
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">DisableWeaponsManager</span>()
    {
        <span class="keyword">if</span> (<span class="variable">actorWeaponsManager</span> != <span class="constant">null</span>)
        {
            <span class="variable">actorWeaponsManager</span>.<span class="property">enabled</span> = <span class="constant">false</span>;
        }
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">MoveHostToRefuge</span>()
    {
        <span class="class-name">Transform</span> <span class="variable">refugeCamp</span> = <span class="class-name">GameObject</span>.<span class="method">FindWithTag</span>(<span class="string">"HostRefugeCamp"</span>)?.<span class="property">transform</span>;
        <span class="keyword">if</span> (<span class="variable">refugeCamp</span> != <span class="constant">null</span>)
        {
            <span class="variable">currentActor</span>.<span class="property">transform</span>.<span class="method">SetParent</span>(<span class="variable">refugeCamp</span>);
        }
    }
    <span class="preprocessor">#endregion</span>
}
                                    </code></pre>
                                </div> <!-- code-container -->
                            </div> <!-- code expandable-content -->
                        </div> <!-- expandable-content -->
                    </div> <!-- expandable-container -->

                    <div class="expandable-container">
                        <button class="expandable-button" onclick="toggleContent(this)">
                            Additive Scene Loading
                            <img class="expand-icon" src="assets/images/icons/arrow-down.png" alt="Expand">
                        </button>
                        <div class="expandable-content">
                            <p>Project Parasite uses Additive Scene Loading for making sure the actors stay in their respective spot when loading another level, and deloads and loads levels depending on which level the player is in to limit the assets to load, thus boosting performance.</p>
                            <button class="expandable-button" onclick="toggleContent(this)">
                                Script Snippet
                                <img class="expand-icon" src="assets/images/icons/arrow-down.png" alt="Expand">
                            </button>
                            <div class="expandable-content">
                                <div class="code-container">
                                    <pre><code class="language-csharp">
<span class="keyword">using</span> System.Linq;
<span class="keyword">using</span> UnityEngine;
<span class="keyword">using</span> UnityEngine.SceneManagement;

<span class="keyword">public</span> <span class="keyword">class</span> <span class="class-name">SceneLoadTrigger</span> : <span class="class-name">MonoBehaviour</span>
{
    <span class="preprocessor">#region</span> VARIABLES
    [<span class="attribute">SerializeField</span>] <span class="keyword">private</span> <span class="class-name">SceneField</span>[] <span class="variable">_scenesToUnload</span>;
    [<span class="attribute">SerializeField</span>] <span class="keyword">private</span> <span class="class-name">SceneField</span>[] <span class="variable">_scenesToLoad</span>;

    <span class="keyword">private</span> <span class="class-name">GameObject</span> <span class="variable">_player</span>;
    <span class="keyword">private</span> <span class="class-name">GameObject</span>[] <span class="variable">_hosts</span>;
    <span class="preprocessor">#endregion</span>

    <span class="preprocessor">#region</span> UNITY METHODS
    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">Awake</span>()
    {
        <span class="variable">_player</span> = <span class="class-name">GameObject</span>.<span class="function">FindGameObjectWithTag</span>(<span class="string">"Player"</span>);
        <span class="variable">_hosts</span> = <span class="class-name">GameObject</span>.<span class="function">FindGameObjectsWithTag</span>(<span class="string">"Host"</span>);
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">OnTriggerEnter</span>(<span class="class-name">Collider</span> <span class="variable">collision</span>)
    {
        <span class="keyword">if</span> (<span class="variable">collision</span>.<span class="property">gameObject</span> == <span class="variable">_player</span> <span class="operator">||</span> <span class="variable">_hosts</span>.<span class="function">Contains</span>&lt;<span class="class-name">GameObject</span>&gt;(<span class="variable">collision</span>.<span class="property">gameObject</span>))
        {
            <span class="comment">// Load and unload the scenes we want</span>
            <span class="function">LoadScene</span>();
            <span class="function">UnloadScene</span>();
        }
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">OnControllerColliderHit</span>(<span class="class-name">ControllerColliderHit</span> <span class="variable">hit</span>)
    {
        <span class="keyword">if</span> (<span class="variable">hit</span>.<span class="property">gameObject</span> == <span class="variable">_player</span> <span class="operator">||</span> <span class="variable">_hosts</span>.<span class="function">Contains</span>&lt;<span class="class-name">GameObject</span>&gt;(<span class="variable">hit</span>.<span class="property">gameObject</span>))
        {
            <span class="comment">// Load and unload the scenes we want</span>
            <span class="function">LoadScene</span>();
            <span class="function">UnloadScene</span>();
        }
    }
    <span class="preprocessor">#endregion</span>

    <span class="preprocessor">#region</span> SCENE MANAGEMENT
    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">LoadScene</span>()
    {
        <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">i</span> = <span class="number">0</span>; <span class="variable">i</span> &lt; <span class="variable">_scenesToLoad</span>.<span class="property">Length</span>; <span class="variable">i</span>++)
        {
            <span class="keyword">bool</span> <span class="variable">isSceneLoaded</span> = <span class="keyword">false</span>;

            <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">j</span> = <span class="number">0</span>; <span class="variable">j</span> &lt; <span class="class-name">SceneManager</span>.<span class="property">sceneCount</span>; <span class="variable">j</span>++)
            {
                <span class="class-name">Scene</span> <span class="variable">loadedScene</span> = <span class="class-name">SceneManager</span>.<span class="function">GetSceneAt</span>(<span class="variable">j</span>);
                <span class="keyword">if</span> (<span class="variable">loadedScene</span>.<span class="property">name</span> == <span class="variable">_scenesToLoad</span>[<span class="variable">i</span>].<span class="property">SceneName</span>)
                {
                    <span class="variable">isSceneLoaded</span> = <span class="keyword">true</span>;
                    <span class="keyword">break</span>;
                }
            }

            <span class="keyword">if</span> (!<span class="variable">isSceneLoaded</span>)
            {
                <span class="class-name">SceneManager</span>.<span class="function">LoadSceneAsync</span>(<span class="variable">_scenesToLoad</span>[<span class="variable">i</span>], <span class="class-name">LoadSceneMode</span>.<span class="property">Additive</span>);
            }
        }
    }

    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">UnloadScene</span>()
    {
        <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">i</span> = <span class="number">0</span>; <span class="variable">i</span> &lt; <span class="variable">_scenesToUnload</span>.<span class="property">Length</span>; <span class="variable">i</span>++)
        {
            <span class="keyword">for</span> (<span class="keyword">int</span> <span class="variable">j</span> = <span class="number">0</span>; <span class="variable">j</span> &lt; <span class="class-name">SceneManager</span>.<span class="property">sceneCount</span>; <span class="variable">j</span>++)
            {
                <span class="class-name">Scene</span> <span class="variable">loadedScene</span> = <span class="class-name">SceneManager</span>.<span class="function">GetSceneAt</span>(<span class="variable">j</span>);
                <span class="keyword">if</span> (<span class="variable">loadedScene</span>.<span class="property">name</span> == <span class="variable">_scenesToUnload</span>[<span class="variable">i</span>].<span class="property">SceneName</span>)
                {
                    <span class="class-name">SceneManager</span>.<span class="function">UnloadSceneAsync</span>(<span class="variable">_scenesToUnload</span>[<span class="variable">i</span>]);
                }
            }
        }
    }
    <span class="preprocessor">#endregion</span>
}
                                    </code></pre>
                                </div> <!-- code-container -->
                            </div> <!-- code expandable-content -->
                        </div> <!-- expandable-content -->
                    </div> <!-- expandable-container -->

                    <div class="expandable-container">
                        <button class="expandable-button" onclick="toggleContent(this)">
                            Camera System
                            <img class="expand-icon" src="assets/images/icons/arrow-down.png" alt="Expand">
                        </button>
                        <div class="expandable-content">
                            <p>I used Cinemachine 2.0 (the newest version at the time of starting the project), to set up the third-person camera for the parasite and hosts.</p>
                            <p>And extended on this system with my own Camera Switcher code, which sets the camera's priority and enables/disables based on the which character is currently infected.</p>
                        </div>
                    </div>

                    <div class="expandable-container">
                        <button class="expandable-button" onclick="toggleContent(this)">
                            Destruction Logic
                            <img class="expand-icon" src="assets/images/icons/arrow-down.png" alt="Expand">
                        </button>
                        <div class="expandable-content">
                            <p>The desctruction logic plays a big part in the game as the player can destroy vents, and shatter incubation pods, creating new paths to areas previously inaccessible.</p>
                            <p>I made a modular script, with custom editor, which lets you easily adjust the parameters in the inspector (e.g. Do you want the children of the instantiated destroyedObject to self destruct). </p>
                            <button class="expandable-button" onclick="toggleContent(this)">
                                Script Snippet
                                <img class="expand-icon" src="assets/images/icons/arrow-down.png" alt="Expand">
                            </button>
                            <div class="expandable-content">
                                <div class="code-container">
                                    <pre><code class="language-csharp">
<span class="keyword">using</span> UnityEngine;
<span class="keyword">using</span> UnityEngine.SceneManagement;
<span class="keyword">using</span> System.Collections;
<span class="keyword">using</span> UnityEditor;

<span class="keyword">public</span> <span class="keyword">class</span> <span class="class-name">DestructibleObject</span> : <span class="class-name">MonoBehaviour</span>
{
    <span class="preprocessor">#region</span> VARIABLES
    [<span class="attribute">Header</span>(<span class="string">"Destructible Settings"</span>)]
    [<span class="attribute">SerializeField</span>]
    <span class="keyword">private</span> <span class="class-name">GameObject</span> <span class="variable">destroyedVersion</span>;

    [<span class="attribute">SerializeField</span>]
    <span class="keyword">private</span> <span class="class-name">AudioClip</span>[] <span class="variable">destructionSfx</span>;
    <span class="keyword">private</span> <span class="class-name">AudioSource</span> <span class="variable">m_AudioSource</span>;

    [<span class="attribute">Header</span>(<span class="string">"Self-Destruct Settings"</span>)]
    [<span class="attribute">SerializeField</span>]
    <span class="keyword">private</span> <span class="keyword">bool</span> <span class="variable">enableSelfDestruct</span> = <span class="literal">false</span>;
    <span class="keyword">public</span> <span class="keyword">bool</span> <span class="variable">EnableSelfDestruct</span> { <span class="keyword">get</span> =&gt; <span class="variable">enableSelfDestruct</span>; <span class="keyword">set</span> =&gt; <span class="variable">enableSelfDestruct</span> = <span class="variable">value</span>; }

    [<span class="attribute">SerializeField</span>, <span class="attribute">Tooltip</span>(<span class="string">"Destroy the main object after all children are destroyed"</span>), <span class="attribute">HideInInspector</span>]
    <span class="keyword">private</span> <span class="keyword">bool</span> <span class="variable">destroyRoot</span> = <span class="literal">false</span>;
    <span class="keyword">public</span> <span class="keyword">bool</span> <span class="variable">DestroyRoot</span> { <span class="keyword">get</span> =&gt; <span class="variable">destroyRoot</span>; <span class="keyword">set</span> =&gt; <span class="variable">destroyRoot</span> = <span class="variable">value</span>; }

    [<span class="attribute">SerializeField</span>, <span class="attribute">Range</span>(1f, 20f), <span class="attribute">HideInInspector</span>]
    <span class="keyword">private</span> <span class="keyword">float</span> <span class="variable">minDestroyTime</span> = 3f;
    <span class="keyword">public</span> <span class="keyword">float</span> <span class="variable">MinDestroyTime</span> { <span class="keyword">get</span> =&gt; <span class="variable">minDestroyTime</span>; <span class="keyword">set</span> =&gt; <span class="variable">minDestroyTime</span> = <span class="variable">value</span>; }

    [<span class="attribute">SerializeField</span>, <span class="attribute">Range</span>(1f, 20f), <span class="attribute">HideInInspector</span>]
    <span class="keyword">private</span> <span class="keyword">float</span> <span class="variable">maxDestroyTime</span> = 10f;
    <span class="keyword">public</span> <span class="keyword">float</span> <span class="variable">MaxDestroyTime</span> { <span class="keyword">get</span> =&gt; <span class="variable">maxDestroyTime</span>; <span class="keyword">set</span> =&gt; <span class="variable">maxDestroyTime</span> = <span class="variable">value</span>; }
    <span class="preprocessor">#endregion</span>

    <span class="preprocessor">#region</span> UNITY METHODS
    <span class="keyword">private</span> <span class="keyword">void</span> <span class="function">OnCollisionEnter</span>(<span class="class-name">Collision</span> <span class="variable">collision</span>)
    {
        <span class="keyword">if</span> (<span class="variable">collision</span>.<span class="property">gameObject</span>.<span class="function">CompareTag</span>(<span class="string">"Bullet"</span>))
        {
            <span class="function">DestroyObject</span>();
        }
    }
    <span class="preprocessor">#endregion</span>

    <span class="preprocessor">#region</span> DESTRUCTION METHODS
    <span class="keyword">public</span> <span class="keyword">void</span> <span class="function">DestroyObject</span>()
    {
        <span class="class-name">Scene</span> <span class="variable">currentScene</span> = <span class="variable">gameObject</span>.<span class="property">scene</span>;

        <span class="keyword">if</span> (!<span class="variable">currentScene</span>.<span class="property">isLoaded</span> || <span class="variable">destroyedVersion</span> == <span class="literal">null</span>) <span class="keyword">return</span>;

        <span class="class-name">GameObject</span> <span class="variable">instantiatedObject</span> = <span class="function">Instantiate</span>(<span class="variable">destroyedVersion</span>, <span class="variable">transform</span>.<span class="property">position</span>, <span class="variable">transform</span>.<span class="property">rotation</span>);

        <span class="variable">m_AudioSource</span> = <span class="variable">instantiatedObject</span>.<span class="function">GetComponent</span>&lt;<span class="class-name">AudioSource</span>&gt;();
        <span class="class-name">DebugUtility</span>.<span class="function">HandleErrorIfNullGetComponent</span>&lt;<span class="class-name">AudioSource</span>, <span class="class-name">DestructibleObject</span>&gt;(<span class="variable">m_AudioSource</span>, <span class="variable">instantiatedObject</span>.<span class="property">transform</span>, <span class="variable">instantiatedObject</span>);

        <span class="class-name">Game_Manager</span>.<span class="function">PlayRandomSfx</span>(<span class="variable">m_AudioSource</span>, <span class="variable">destructionSfx</span>);

        <span class="class-name">SceneManager</span>.<span class="function">MoveGameObjectToScene</span>(<span class="variable">instantiatedObject</span>, <span class="variable">currentScene</span>);
        <span class="variable">instantiatedObject</span>.<span class="property">transform</span>.<span class="function">SetParent</span>(<span class="variable">transform</span>.<span class="property">parent</span>);

        <span class="function">Destroy</span>(<span class="keyword">gameObject</span>);

        <span class="keyword">if</span> (<span class="variable">EnableSelfDestruct</span>)
        {
            <span class="function">StartCoroutine</span>(<span class="function">SelfDestructRoutine</span>(<span class="variable">instantiatedObject</span>));
        }
    }

    <span class="keyword">private</span> <span class="class-name">IEnumerator</span> <span class="function">SelfDestructRoutine</span>(<span class="class-name">GameObject</span> <span class="variable">targetObject</span>)
    {
        <span class="class-name">DestructionTarget</span>[] <span class="variable">destructionTargets</span> = <span class="variable">targetObject</span>.<span class="function">GetComponentsInChildren</span>&lt;<span class="class-name">DestructionTarget</span>&gt;();

        <span class="keyword">foreach</span> (<span class="class-name">DestructionTarget</span> <span class="variable">target</span> <span class="keyword">in</span> <span class="variable">destructionTargets</span>)
        {
            <span class="function">Destroy</span>(<span class="variable">target</span>.<span class="property">gameObject</span>, <span class="class-name">Random</span>.<span class="function">Range</span>(<span class="variable">minDestroyTime</span>, <span class="variable">maxDestroyTime</span>));
        }

        <span class="keyword">if</span> (<span class="variable">destroyRoot</span>)
        {
            <span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="class-name">WaitForSeconds</span>(<span class="variable">maxDestroyTime</span>);
            <span class="function">Destroy</span>(<span class="variable">targetObject</span>);
        }
    }
    <span class="preprocessor">#endregion</span>
}

<span class="preprocessor">#if</span> UNITY_EDITOR
<span class="preprocessor">#region</span> Custom Inspector for DestructibleObject
[<span class="attribute">CustomEditor</span>(<span class="keyword">typeof</span>(<span class="class-name">DestructibleObject</span>))]
<span class="keyword">public</span> <span class="keyword">class</span> <span class="class-name">DestructibleObjectEditor</span> : <span class="class-name">Editor</span>
{
    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="function">OnInspectorGUI</span>()
    {
        <span class="class-name">DestructibleObject</span> <span class="variable">destructibleObject</span> = (<span class="class-name">DestructibleObject</span>)<span class="variable">target</span>;

        <span class="function">DrawDefaultInspector</span>();

        <span class="keyword">if</span> (<span class="variable">destructibleObject</span>.<span class="variable">EnableSelfDestruct</span>)
        {
            <span class="variable">destructibleObject</span>.<span class="variable">DestroyRoot</span> = <span class="class-name">EditorGUILayout</span>.<span class="function">Toggle</span>(<span class="string">"Destroy Root"</span>, <span class="variable">destructibleObject</span>.<span class="variable">DestroyRoot</span>);
            <span class="variable">destructibleObject</span>.<span class="variable">MinDestroyTime</span> = <span class="class-name">EditorGUILayout</span>.<span class="function">FloatField</span>(<span class="string">"Min Destroy Time"</span>, <span class="variable">destructibleObject</span>.<span class="variable">MinDestroyTime</span>);
            <span class="variable">destructibleObject</span>.<span class="variable">MaxDestroyTime</span> = <span class="class-name">EditorGUILayout</span>.<span class="function">FloatField</span>(<span class="string">"Max Destroy Time"</span>, <span class="variable">destructibleObject</span>.<span class="variable">MaxDestroyTime</span>);
        }

        <span class="keyword">if</span> (<span class="class-name">GUI</span>.<span class="property">changed</span>)
        {
            <span class="class-name">EditorUtility</span>.<span class="function">SetDirty</span>(<span class="variable">target</span>);
        }
    }
}
<span class="preprocessor">#endregion</span>
<span class="preprocessor">#endif</span>
                                    </code></pre>
                                </div> <!-- code-container -->
                            </div> <!-- code expandable-content -->
                        </div> <!-- expandable-content -->
                    </div> <!-- expandable-container -->

                    <div class="expandable-container">
                        <button class="expandable-button" onclick="toggleContent(this)">
                            Door Logic
                            <img class="expand-icon" src="assets/images/icons/arrow-down.png" alt="Expand">
                        </button>
                        <div class="expandable-content">
                            <p>One of the puzzle components of the game comes down to the doors of which some needs a person with a keycard to open it.</p>
                            <p>It has a nice animation of the doors slide out and inwards. And there is a child script for the elevator door which has prerequisites for it to be able to open, displayed by the text outside the door.</p>
                        </div>
                    </div>

                    <div class="expandable-container">
                        <button class="expandable-button" onclick="toggleContent(this)">
                            Enemy AI
                            <img class="expand-icon" src="assets/images/icons/arrow-down.png" alt="Expand">
                        </button>
                        <div class="expandable-content">
                            <p>The Enemy AI plays a very important part in the game, as they should act naturally like an enemy, but should also be controllable.</p>
                            <p>...</p>
                        </div>
                    </div>

                    <div class="expandable-container">
                        <button class="expandable-button" onclick="toggleContent(this)">
                            Security Camera System
                            <img class="expand-icon" src="assets/images/icons/arrow-down.png" alt="Expand">
                        </button>
                        <div class="expandable-content">
                            <p>To add a layer of stealth and another puzzle element I added security camera's, which pan around and when the player comes into its cone shape, an alarm gets set trigger the geared Enemy AI to patrol to the player's last seen location.</p>
                        </div>
                    </div>

                    <div class="expandable-container">
                        <button class="expandable-button" onclick="toggleContent(this)">
                            3D Models
                            <img class="expand-icon" src="assets/images/icons/arrow-down.png" alt="Expand">
                        </button>
                        <div class="expandable-content">
                            <a href="https://www.artstation.com/jibbew" target="_blank">To Be Added On ArtStation.</a>
                        </div>
                    </div>
                </div> <!-- contributions -->
            </div><!-- content-wrapper -->
        </main>
    </div> <!-- main-wrapper -->

    <div id="footer-placeholder"></div>

</body>
</html>

<!-- IDK IF I SHOULD THIS TYPE OF INFO
    <h3>Key Features</h3>
    <ul>
        <li><strong>Possession Mechanic:</strong> Control any living creature, each with distinct abilities and weaknesses.</li>
        <li><strong>Multi-Path Gameplay:</strong> Solve challenges through stealth, combat, or manipulation.</li>
        <li><strong>Reverse-Horror Narrative:</strong> You are the monster—strike fear into those who hunt you.</li>
        <li><strong>Adaptive AI:</strong> Enemies react dynamically to your actions and tactics.</li>
    </ul>
<br/>
    <h3>Emotional Experience</h3>
    <p>Project Parasite aims to make players feel:</p>
    <ul>
        <li><strong>Powerful:</strong> Mastermind escapes by controlling others and reshaping the environment.</li>
        <li><strong>Creative:</strong> Solve puzzles in unique ways through possession, deception, or brute force.</li>
        <li><strong>Sneaky:</strong> Outsmart enemies using stealth and tactical misdirection.</li>
        <li><strong>Terrifying (Not Terrified):</strong> Become the nightmare, causing fear and panic among your pursuers.</li>
    </ul>

<button onclick="window.open('assets/images/project-parasite/Project-Parasite_GDD.pdf', '_blank');">View GDD</button>
<!-- DO I SHOW THE ONEPAGER HERE? IDK...
<br />
<h3>One-Pager</h3>
<img src="assets/images/project-parasite/onepager.jpg" alt="Project Parasite One-Pager">
<br />
-->